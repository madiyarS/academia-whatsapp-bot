import fetch from 'node-fetch';

const GREEN_INSTANCE = process.env.GREEN_INSTANCE;
const GREEN_TOKEN = process.env.GREEN_TOKEN;
const TELEGRAM_TOKEN = process.env.TELEGRAM_TOKEN;
const ADMIN_TELEGRAM = process.env.ADMIN_TELEGRAM;

const users = new Map();
const SESSION_TIMEOUT = 24 * 60 * 60 * 1000; // 24 —á–∞—Å–∞

// –¢–µ–∫—Å—Ç—ã –Ω–∞ –¥–≤—É—Ö —è–∑—ã–∫–∞—Ö —Å —ç–º–æ–¥–∑–∏
const t = {
  ru: {
    start: "üëã –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—É—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é ¬´–ê–∫–∞–¥–µ–º–∏—è¬ª\n\nüì± –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —ç—Ç–æ—Ç —á–∞—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–±—â–µ–Ω–∏—è —Å –≤–∞–º–∏. –í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –∑–∞—â–∏—â–µ–Ω—ã.",
    lang: "–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ –æ–±—â–µ–Ω–∏—è:",
    kg: "üè´ –î–µ—Ç—Å–∫–∏–π —Å–∞–¥",
    school: "üéì –ù–∞—á–∞–ª—å–Ω–∞—è —à–∫–æ–ª–∞",
    back: "‚óÄÔ∏è –ù–∞–∑–∞–¥",
    restart: "üîÑ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ",
    menu: "–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É:",
    items: [
      "üìã –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è",
      "üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å –∏ –æ–ø–ª–∞—Ç–∞",
      "üìù –ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ",
      "‚è∞ –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã",
      "üçΩ –ü–∏—Ç–∞–Ω–∏–µ",
      "üé® –ö—Ä—É–∂–∫–∏ –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª",
      "üìû –ñ–∞–ª–æ–±–∞ / –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ"
    ],
    notUnderstood: "–ò–∑–≤–∏–Ω–∏—Ç–µ, —è –Ω–µ –ø–æ–Ω—è–ª. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—é –Ω–∏–∂–µ üëá",
    operator: "üìû –î–ª—è —Å–≤—è–∑–∏ —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º –ø–æ–∑–≤–æ–Ω–∏—Ç–µ:\n+7 701 573 1794\n\n–ò–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –∑–∞—è–≤–∫—É, –∏ –º—ã –ø–µ—Ä–µ–∑–≤–æ–Ω–∏–º.",
    
    info_kg: `üè´ –î–æ—à–∫–æ–ª—å–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è ¬´–ê–∫–∞–¥–µ–º–∏—è¬ª

üìç –ê–¥—Ä–µ—Å: –≥. –ê—Å—Ç–∞–Ω–∞, —É–ª. –®—ã–≥–∞–Ω–∞–∫, 7
üìû –¢–µ–ª–µ—Ñ–æ–Ω—ã: +7 701 573 1794, +7 708 685 3959

üë∂ –í–æ–∑—Ä–∞—Å—Ç–Ω—ã–µ –≥—Ä—É–ø–ø—ã: –æ—Ç 2 –¥–æ 3 –ª–µ—Ç, –æ—Ç 3 –¥–æ 4 –ª–µ—Ç, –æ—Ç 4 –¥–æ 5 –ª–µ—Ç, –≥—Ä—É–ø–ø–∞ 6+ (–ø—Ä–µ–¥—à–∫–æ–ª—å–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞)
üó£ –Ø–∑—ã–∫–∏: –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π –∏ —Ä—É—Å—Å–∫–∏–π
üìö –ú–µ—Ç–æ–¥–∏–∫–∏: –æ–±—â–µ–≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –†–ö + –†–µ–¥–∂–∏–æ, –ú–æ–Ω—Ç–µ—Å—Å–æ—Ä–∏, –û—Ä—Ñ-–ø–µ–¥–∞–≥–æ–≥–∏–∫–∞

üë• –í –≥—Ä—É–ø–ø–∞—Ö –¥–æ 25 –¥–µ—Ç–µ–π (1 –≤–æ—Å–ø–∏—Ç–∞—Ç–µ–ª—å + 1 –ø–æ–º–æ—â–Ω–∏–∫)
‚úÖ –ï—Å—Ç—å: –ª–æ–≥–æ–ø–µ–¥, –ø—Å–∏—Ö–æ–ª–æ–≥, –º–µ–¥—Å–µ—Å—Ç—Ä–∞, –≤—Ä–∞—á-–ø–µ–¥–∏–∞—Ç—Ä
üç≥ –°–≤–æ—è –∫—É—Ö–Ω—è, —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–≥—Ä–æ–≤—ã–µ –ø–ª–æ—â–∞–¥–∫–∏ —É –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã
üìπ –ö–∞–º–µ—Ä—ã –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è –µ—Å—Ç—å (–æ–Ω–ª–∞–π–Ω-–ø—Ä–æ—Å–º–æ—Ç—Ä –Ω–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω)`,

    cost_kg: `üí∞ –ï–∂–µ–º–µ—Å—è—á–Ω–∞—è –ø–ª–∞—Ç–∞: 215 000 —Ç–µ–Ω–≥–µ
üí≥ –í—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å: 150 000 —Ç–µ–Ω–≥–µ (—Ä–∞–∑–æ–≤—ã–π)

‚úÖ –í —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤—Ö–æ–¥–∏—Ç:
‚Ä¢ 5-—Ä–∞–∑–æ–≤–æ–µ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ
‚Ä¢ –ë–æ–ª–µ–µ 20 —Ä–∞–∑–≤–∏–≤–∞—é—â–∏—Ö –∑–∞–Ω—è—Ç–∏–π –≤ –Ω–µ–¥–µ–ª—é
‚Ä¢ –ü–ª–∞–≤–∞–Ω–∏–µ
‚Ä¢ –í—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

üí∏ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã: –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã, –≤—ã–µ–∑–¥–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è, —É—á–∞—Å—Ç–∏–µ –≤ –∫–æ–Ω–∫—É—Ä—Å–∞—Ö, –ª–∏—á–Ω—ã–π –ø—Ä–∞–∑–¥–Ω–∏–∫

üéÅ –°–∫–∏–¥–∫–∏:
‚Ä¢ –í—Ç–æ—Ä–æ–π —Ä–µ–±—ë–Ω–æ–∫ ‚Äî –º–∏–Ω—É—Å 10 000 —Ç–µ–Ω–≥–µ
‚Ä¢ –û–ø–ª–∞—Ç–∞ –∑–∞ –≥–æ–¥ –≤–ø–µ—Ä—ë–¥ ‚Äî 5%

üí≥ –û–ø–ª–∞—Ç–∞: —Ç–æ–ª—å–∫–æ –±–µ–∑–Ω–∞–ª–∏—á–Ω–∞—è
üìû –ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –æ–ø–ª–∞—Ç—ã: +7 701 577-41-88 (–±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è)`,

    enroll_kg: `üìù –ü—Ä–∏–Ω–∏–º–∞–µ–º –¥–µ—Ç–µ–π —Å 2 –ª–µ—Ç
üìÖ –ù–∞–±–æ—Ä –∫—Ä—É–≥–ª—ã–π –≥–æ–¥
üöº –ü—Ä–∏—É—á–µ–Ω–∏–µ –∫ –≥–æ—Ä—à–∫—É ‚Äî –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
‚è± –ï—Å—Ç—å –∞–¥–∞–ø—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥

üìÑ –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:
1Ô∏è‚É£ –ó–∞—è–≤–ª–µ–Ω–∏–µ –∏ –∞–Ω–∫–µ—Ç–∞ (–∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –æ—Ñ–∏—Å–µ)
2Ô∏è‚É£ –ö–æ–ø–∏—è —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏
3Ô∏è‚É£ –ö–æ–ø–∏—è —É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏—è —Ä–æ–¥–∏—Ç–µ–ª—è
4Ô∏è‚É£ –§–æ—Ç–æ 3√ó4 ‚Äî 2 —à—Ç.
5Ô∏è‚É£ –ü–∞—Å–ø–æ—Ä—Ç –∑–¥–æ—Ä–æ–≤—å—è + —Ñ–æ—Ä–º–∞ ‚Ññ063
6Ô∏è‚É£ –î–æ–≥–æ–≤–æ—Ä –∏ –ø—Ä–∞–≤–∏–ª–∞ (–ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –æ—Ñ–∏—Å–µ)

üéØ –•–æ—Ç–∏—Ç–µ –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —ç–∫—Å–∫—É—Ä—Å–∏—é? –ù–∞–ø–∏—à–∏—Ç–µ ¬´–î–∞¬ª`,

    regime_kg: `‚è∞ –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã: 08:00 ‚Äì 18:00 (–ø–Ω‚Äì–ø—Ç)
üìÖ –í—ã—Ö–æ–¥–Ω—ã–µ: —Å—É–±–±–æ—Ç–∞, –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ
üïê –ù–µ–ø–æ–ª–Ω—ã–π –¥–µ–Ω—å ‚Äî –ø–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—é
‚úÖ –ü–æ—Å–µ—â–µ–Ω–∏–µ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–µ

‚ö†Ô∏è –ü—Ä–æ–ø—É—Å–∫–∏:
‚Ä¢ –ü–æ –±–æ–ª–µ–∑–Ω–∏ (—Å–æ —Å–ø—Ä–∞–≤–∫–æ–π) ‚Äî –ø–µ—Ä–µ—Ä–∞—Å—á—ë—Ç 50% –ø–æ –ø–∏—Ç–∞–Ω–∏—é
‚Ä¢ –û—Ç–ø—É—Å–∫ ‚Äî 50% —Ç–æ–ª—å–∫–æ –≤ –ø–µ—Ä–≤—ã–π –º–µ—Å—è—Ü, –¥–∞–ª–µ–µ –ø–æ–ª–Ω–∞—è –æ–ø–ª–∞—Ç–∞`,

    food_kg: `üçΩ 5-—Ä–∞–∑–æ–≤–æ–µ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ
üë®‚Äçüç≥ –ì–æ—Ç–æ–≤–∏–º –Ω–∞ —Å–≤–æ–µ–π –∫—É—Ö–Ω–µ
ü•ó –£—á–∏—Ç—ã–≤–∞–µ–º –∞–ª–ª–µ—Ä–≥–∏–∏ –∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏
üìã –°–µ–∑–æ–Ω–Ω–æ–µ –º–µ–Ω—é ‚Äî –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º –ø–æ –∑–∞–ø—Ä–æ—Å—É`,

    circles_kg: `üé® –í—Å–µ –∑–∞–Ω—è—Ç–∏—è –≤—Ö–æ–¥—è—Ç –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å:

üìö –ë–æ–ª–µ–µ 20 —Ä–∞–∑–≤–∏–≤–∞—é—â–∏—Ö –∑–∞–Ω—è—Ç–∏–π –≤ –Ω–µ–¥–µ–ª—é
üèä –ü–ª–∞–≤–∞–Ω–∏–µ
üó£ –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫
üé® –ê—Ä—Ç-—Å—Ç—É–¥–∏—è
üíÉ –°–ø–æ—Ä—Ç–∏–≤–Ω–æ-–±–∞–ª—å–Ω—ã–µ —Ç–∞–Ω—Ü—ã
ü•ã –ö–∞—Ä–∞—Ç—ç
ü§∏ –•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –≥–∏–º–Ω–∞—Å—Ç–∏–∫–∞
üëÑ –õ–æ–≥–æ–ø–µ–¥
üßÆ –ú–µ–Ω—Ç–∞–ª—å–Ω–∞—è –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞
‚ôü –®–∞—Ö–º–∞—Ç—ã
üé≠ –ê–∫—Ç—ë—Ä—Å–∫–æ–µ –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ
üé§ –í–æ–∫–∞–ª –∏ —Ñ–æ—Ä—Ç–µ–ø–∏–∞–Ω–æ
üß† –ü—Å–∏—Ö–æ–ª–æ–≥, –õ–§–ö –∏ –º–∞—Å—Å–∞–∂

üå≥ –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –ø—Ä–æ–≥—É–ª–∫–∏ –Ω–∞ —Å–≤–æ–µ–π –ø–ª–æ—â–∞–¥–∫–µ
üéâ –ü—Ä–∞–∑–¥–Ω–∏–∫–∏ –∏ —É—Ç—Ä–µ–Ω–Ω–∏–∫–∏ –ø—Ä–æ–≤–æ–¥—è—Ç—Å—è`,

    info_school: `üéì –ù–∞—á–∞–ª—å–Ω–∞—è —à–∫–æ–ª–∞ ¬´–ê–∫–∞–¥–µ–º–∏—è¬ª

üìç –ê–¥—Ä–µ—Å: –≥. –ê—Å—Ç–∞–Ω–∞, —É–ª. –®—ã–≥–∞–Ω–∞–∫, 7
üìû –¢–µ–ª–µ—Ñ–æ–Ω—ã: +7 701 573 1794, +7 701 511 8396

üìö –ö–ª–∞—Å—Å—ã: —Å 1 –ø–æ 4
üìñ –ü—Ä–æ–≥—Ä–∞–º–º–∞: –∫–∞–∑–∞—Ö—Å—Ç–∞–Ω—Å–∫–∞—è
üó£ –Ø–∑—ã–∫–∏ –æ–±—É—á–µ–Ω–∏—è: –∫–∞–∑–∞—Ö—Å–∫–∏–π –∏ —Ä—É—Å—Å–∫–∏–π
üë• –î–æ 15 –¥–µ—Ç–µ–π –≤ –∫–ª–∞—Å—Å–µ
üë®‚Äçüè´ –£—á–∏—Ç–µ–ª—è —Å –ø—Ä–æ—Ñ–∏–ª—å–Ω–æ–π –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
üè• –ï—Å—Ç—å –º–µ–¥–∫–∞–±–∏–Ω–µ—Ç –∏ –º–µ–¥—Å–µ—Å—Ç—Ä–∞
üö´ –®–∫–æ–ª—å–Ω–æ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –Ω–µ—Ç`,

    cost_school: `üí∞ –ï–∂–µ–º–µ—Å—è—á–Ω–∞—è –æ–ø–ª–∞—Ç–∞: 260 000 —Ç–µ–Ω–≥–µ
üí≥ –ì–æ–¥–æ–≤–∞—è –æ–ø–ª–∞—Ç–∞: 2 340 000 —Ç–µ–Ω–≥–µ
üíµ –í—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å: 170 000 —Ç–µ–Ω–≥–µ (—Ä–∞–∑–æ–≤—ã–π)

üí∏ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã: —É—á–µ–±–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, —Ñ–æ—Ä–º–∞

üéÅ –°–∫–∏–¥–∫–∏:
‚Ä¢ –í—Ç–æ—Ä–æ–π —Ä–µ–±—ë–Ω–æ–∫ ‚Äî 5%
‚Ä¢ –û–ø–ª–∞—Ç–∞ –∑–∞ –≥–æ–¥ –≤–ø–µ—Ä—ë–¥ ‚Äî 5%

‚è∞ –ü—Ä–æ–¥–ª—ë–Ω–∫–∞ –¥–æ 18:00 ‚Äî 2000 —Ç–µ–Ω–≥–µ/—á–∞—Å
üí≥ –û–ø–ª–∞—Ç–∞: —Ç–æ–ª—å–∫–æ –±–µ–∑–Ω–∞–ª–∏—á–Ω–∞—è
üìû –ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –æ–ø–ª–∞—Ç—ã: +7 701 577-41-88 (–±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è)`,

    enroll_school: `üìù –ü—Ä–∏–Ω–∏–º–∞–µ–º —Å 6 –ª–µ—Ç
‚úÖ –ï—Å—Ç—å –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
üìÖ –ù–∞–±–æ—Ä —Å 1 –∞–ø—Ä–µ–ª—è, –º–æ–∂–Ω–æ –ø–æ—Å—Ç—É–ø–∏—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –≥–æ–¥–∞

üìÑ –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–π –¥–æ–∫—É–º–µ–Ω—Ç: –ø–∞—Å–ø–æ—Ä—Ç –∑–¥–æ—Ä–æ–≤—å—è —Ä–µ–±—ë–Ω–∫–∞

üéØ –•–æ—Ç–∏—Ç–µ –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ? –ù–∞–ø–∏—à–∏—Ç–µ ¬´–î–∞¬ª`,

    regime_school: `‚è∞ –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã: 08:00 ‚Äì 17:00 (–ø–Ω‚Äì–ø—Ç)
üìÖ –°—É–±–±–æ—Ç–∞ ‚Äî –≤—ã—Ö–æ–¥–Ω–æ–π
üìñ –£—Ä–æ–∫: 45 –º–∏–Ω—É—Ç, 6 —É—Ä–æ–∫–æ–≤ –≤ –¥–µ–Ω—å
‚è∞ –ü—Ä–æ–¥–ª—ë–Ω–∫–∞ –¥–æ 18:00 ‚Äî 2000 —Ç–µ–Ω–≥–µ/—á–∞—Å`,

    food_school: `üçΩ 4-—Ä–∞–∑–æ–≤–æ–µ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ
‚úÖ –í–∫–ª—é—á–µ–Ω–æ –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å
ü•ó –í–æ–∑–º–æ–∂–Ω–æ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ –º–µ–Ω—é (–∞–ª–ª–µ—Ä–≥–∏–∏, —Ä–µ–ª–∏–≥–∏–æ–∑–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)`,

    circles_school: `üé® –ö—Ä—É–∂–∫–∏ –∏ —Å–µ–∫—Ü–∏–∏:

üé® –ê—Ä—Ç-—Å—Ç—É–¥–∏—è
üíÉ –°–ø–æ—Ä—Ç–∏–≤–Ω–æ-–±–∞–ª—å–Ω—ã–µ —Ç–∞–Ω—Ü—ã
ü•ã –ö–∞—Ä–∞—Ç—ç
ü§∏ –•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –≥–∏–º–Ω–∞—Å—Ç–∏–∫–∞
üëÑ –õ–æ–≥–æ–ø–µ–¥
üßÆ –ú–µ–Ω—Ç–∞–ª—å–Ω–∞—è –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞
‚ôü –®–∞—Ö–º–∞—Ç—ã
üé≠ –ê–∫—Ç—ë—Ä—Å–∫–æ–µ –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ
üé§ –í–æ–∫–∞–ª
üéπ –§–æ—Ä—Ç–µ–ø–∏–∞–Ω–æ
üß† –ü—Å–∏—Ö–æ–ª–æ–≥
üí™ –õ–§–ö –∏ –º–∞—Å—Å–∞–∂`,

    faq: `‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã:

‚Ä¢ –ú–æ–∂–Ω–æ –ª–∏ –ø–æ—Å–µ—Ç–∏—Ç—å —Å–∞–¥ –¥–æ –∑–∞–ø–∏—Å–∏? 
  –î–∞, –∑–∞–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ —ç–∫—Å–∫—É—Ä—Å–∏—é

‚Ä¢ –ï—Å—Ç—å –ª–∏ —Å–∫–∏–¥–∫–∏? 
  –î–∞, –Ω–∞ –≤—Ç–æ—Ä–æ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ –∏ –≥–æ–¥–æ–≤—É—é –æ–ø–ª–∞—Ç—É

‚Ä¢ –†–∞–±–æ—Ç–∞–µ—Ç–µ –ª–∏ –ª–µ—Ç–æ–º? 
  –î–∞, –∫—Ä—É–≥–ª—ã–π –≥–æ–¥

‚Ä¢ –ö–∞–∫ –∑–∞–ø–∏—Å–∞—Ç—å—Å—è? 
  –ß–µ—Ä–µ–∑ –º–µ–Ω—é "–ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ"`,

    complaintAsk: "üìù –û–ø–∏—à–∏—Ç–µ –≤–∞—à—É –∂–∞–ª–æ–±—É:",
    complaintDone: "‚úÖ –°–ø–∞—Å–∏–±–æ! –ñ–∞–ª–æ–±–∞ –ø—Ä–∏–Ω—è—Ç–∞. –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.",
    enrollRequest: "üìù –ù–∞–ø–∏—à–∏—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –∏–º—è —Ä–µ–±—ë–Ω–∫–∞ –∏ –≤–∞—à –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω:",
    thanks: "‚úÖ –°–ø–∞—Å–∏–±–æ! –í–∞—à–∞ –∑–∞—è–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞.\n\nüìã –ù–æ–º–µ—Ä –∑–∞—è–≤–∫–∏: ",
    phoneWarning: "‚ö†Ô∏è –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞",
    afterHours: "\n\n‚è∞ –°–µ–π—á–∞—Å –Ω–µ—Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è. –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ —Ä–∞–±–æ—á–∏–µ —á–∞—Å—ã (8:00-18:00)."
  },

  kz: {
    start: "üëã –°”ô–ª–µ–º–µ—Ç—Å—ñ–∑ –±–µ! ¬´–ê–∫–∞–¥–µ–º–∏—è¬ª –±—ñ–ª—ñ–º –±–µ—Ä—É “±–π—ã–º—ã–Ω–∞ “õ–æ—à –∫–µ–ª–¥—ñ“£—ñ–∑!\n\nüì± –ë—ñ–∑ –±“±–ª —á–∞—Ç—Ç—ã —Ç–µ–∫ —Å—ñ–∑–±–µ–Ω “õ–∞—Ä—ã–º-“õ–∞—Ç—ã–Ω–∞—Å “Ø—à—ñ–Ω –ø–∞–π–¥–∞–ª–∞–Ω–∞–º—ã–∑. –î–µ—Ä–µ–∫—Ç–µ—Ä—ñ“£—ñ–∑ “õ–æ—Ä“ì–∞–ª“ì–∞–Ω.",
    lang: "–¢—ñ–ª–¥—ñ —Ç–∞“£–¥–∞“£—ã–∑:",
    kg: "üè´ –ë–∞–ª–∞–±–∞“õ—à–∞",
    school: "üéì –ë–∞—Å—Ç–∞—É—ã—à –º–µ–∫—Ç–µ–ø",
    back: "‚óÄÔ∏è –ê—Ä—Ç“õ–∞",
    restart: "üîÑ “ö–∞–π—Ç–∞ –±–∞—Å—Ç–∞—É",
    menu: "–¢–∞“õ—ã—Ä—ã–ø—Ç—ã —Ç–∞“£–¥–∞“£—ã–∑:",
    items: [
      "üìã –ñ–∞–ª–ø—ã –∞“õ–ø–∞—Ä–∞—Ç",
      "üí∞ –ë–∞“ì–∞—Å—ã –º–µ–Ω —Ç”©–ª–µ–º",
      "üìù “ö–∞–±—ã–ª–¥–∞—É",
      "‚è∞ –ñ“±–º—ã—Å —Ç”ô—Ä—Ç—ñ–±—ñ",
      "üçΩ –¢–∞–º–∞“õ—Ç–∞–Ω—É",
      "üé® “Æ–π—ñ—Ä–º–µ–ª–µ—Ä –∂”ô–Ω–µ “õ—ã–∑–º–µ—Ç–∫–µ—Ä–ª–µ—Ä",
      "üìû –®–∞“ì—ã–º / –ë–∞—Å—à—ã–ª—ã“õ"
    ],
    notUnderstood: "–ö–µ—à—ñ—Ä—ñ“£—ñ–∑, —Ç“Ø—Å—ñ–Ω–±–µ–¥—ñ–º. –¢”©–º–µ–Ω–¥–µ–≥—ñ –º”ô–∑—ñ—Ä–¥—ñ –ø–∞–π–¥–∞–ª–∞–Ω—ã“£—ã–∑ üëá",
    operator: "üìû –û–ø–µ—Ä–∞—Ç–æ—Ä“ì–∞ “õ–æ“£—ã—Ä–∞—É —à–∞–ª—É “Ø—à—ñ–Ω:\n+7 701 573 1794\n\n–ù–µ–º–µ—Å–µ ”©—Ç—ñ–Ω—ñ—à “õ–∞–ª–¥—ã—Ä—ã“£—ã–∑, –±—ñ–∑ “õ–∞–π—Ç–∞ “õ–æ“£—ã—Ä–∞—É —à–∞–ª–∞–º—ã–∑.",
    
    info_kg: `üè´ ¬´–ê–∫–∞–¥–µ–º–∏—è¬ª –º–µ–∫—Ç–µ–ø–∫–µ –¥–µ–π—ñ–Ω–≥—ñ –±—ñ–ª—ñ–º –±–µ—Ä—É “±–π—ã–º—ã

üìç –ú–µ–∫–µ–Ω–∂–∞–π—ã: –ê—Å—Ç–∞–Ω–∞ “õ., –®—ã“ì–∞–Ω–∞“õ –∫., 7
üìû –¢–µ–ª–µ—Ñ–æ–Ω: +7 701 573 1794, +7 708 685 3959

üë∂ –ñ–∞—Å —Ç–æ–ø—Ç–∞—Ä—ã: 2-3 –∂–∞—Å, 3-4 –∂–∞—Å, 4-5 –∂–∞—Å, 6+ (–º–µ–∫—Ç–µ–ø–∞–ª–¥—ã –¥–∞–π—ã–Ω–¥—ã“õ)
üó£ –¢—ñ–ª–¥–µ—Ä: –º–µ–º–ª–µ–∫–µ—Ç—Ç—ñ–∫ –∂”ô–Ω–µ –æ—Ä—ã—Å
üìö ”ò–¥—ñ—Å—Ç–µ–º–µ–ª–µ—Ä: “ö–† —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã + –†–µ–¥–∂–∏–æ, –ú–æ–Ω—Ç–µ—Å—Å–æ—Ä–∏, –û—Ä—Ñ-–ø–µ–¥–∞–≥–æ–≥–∏–∫–∞

üë• –¢–æ–ø—Ç–∞ 25 –±–∞–ª–∞“ì–∞ –¥–µ–π—ñ–Ω (1 —Ç”ô—Ä–±–∏–µ—à—ñ + 1 –∫”©–º–µ–∫—à—ñ)
‚úÖ –ë–∞—Ä: –ª–æ–≥–æ–ø–µ–¥, –ø—Å–∏—Ö–æ–ª–æ–≥, –º–µ–¥–±–∏–∫–µ, –ø–µ–¥–∏–∞—Ç—Ä
üç≥ ”®–∑ –∞—Å—Ö–∞–Ω–∞—Å—ã, ”ô—Ä —Ç–æ–ø—Ç—ã“£ ”©–∑ –∞–ª–∞“£—ã
üìπ –ë–µ–π–Ω–µ–±–∞“õ—ã–ª–∞—É –±–∞—Ä (–æ–Ω–ª–∞–π–Ω –∫”©—Ä—É –∂–æ“õ)`,

    cost_kg: `üí∞ –ê–π —Å–∞–π—ã–Ω“ì—ã —Ç”©–ª–µ–º: 215 000 —Ç–µ“£–≥–µ
üí≥ –ö—ñ—Ä—É –∂–∞—Ä–Ω–∞—Å—ã: 150 000 —Ç–µ“£–≥–µ (–±—ñ—Ä —Ä–µ—Ç)

‚úÖ –ö—ñ—Ä–µ–¥—ñ:
‚Ä¢ 5 –º–µ–∑–≥—ñ–ª —Ç–∞–º–∞“õ
‚Ä¢ –ê–ø—Ç–∞—Å—ã–Ω–∞ 20+ –¥–∞–º—ã—Ç—É —Å–∞–±–∞“ì—ã
‚Ä¢ –ñ“Ø–∑—É
‚Ä¢ –ë–∞—Ä–ª—ã“õ –º–∞—Ç–µ—Ä–∏–∞–ª–¥–∞—Ä

üí∏ “ö–æ—Å—ã–º—à–∞ —à—ã“ì—ã–Ω–¥–∞—Ä: –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å, —Å—ã—Ä—Ç“õ—ã —ñ—Å-—à–∞—Ä–∞–ª–∞—Ä, –±–∞–π“õ–∞—É–ª–∞—Ä, –∂–µ–∫–µ –º–µ—Ä–µ–∫–µ

üéÅ –ñ–µ“£—ñ–ª–¥—ñ–∫—Ç–µ—Ä:
‚Ä¢ –ï–∫—ñ–Ω—à—ñ –±–∞–ª–∞ ‚Äî 10 000 —Ç–µ“£–≥–µ –∫–µ–º
‚Ä¢ –ñ—ã–ª–¥—ã“õ —Ç”©–ª–µ–º ‚Äî 5%

üí≥ –¢”©–ª–µ–º: —Ç–µ–∫ “õ–æ–ª–º–∞-“õ–æ–ª –∞“õ—à–∞—Å—ã–∑
üìû –¢”©–ª–µ–º –±–æ–π—ã–Ω—à–∞: +7 701 577-41-88 (–±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è)`,

    enroll_kg: `üìù 2 –∂–∞—Å—Ç–∞–Ω –±–∞—Å—Ç–∞–ø “õ–∞–±—ã–ª–¥–∞–π–º—ã–∑
üìÖ –ñ—ã–ª –±–æ–π—ã –∂–∏–Ω–∞—É
üöº “ö“±–º—ã—Ä–∞“ì–∞ “Ø–π—Ä–µ—Ç—É ‚Äî –º—ñ–Ω–¥–µ—Ç—Ç—ñ –µ–º–µ—Å
‚è± –ë–µ–π—ñ–º–¥–µ–ª—É –∫–µ–∑–µ“£—ñ –±–∞—Ä

üìÑ “ö–∞–∂–µ—Ç—Ç—ñ “õ“±–∂–∞—Ç—Ç–∞—Ä:
1Ô∏è‚É£ ”®—Ç—ñ–Ω—ñ—à –∂”ô–Ω–µ –∞–Ω–∫–µ—Ç–∞ (–∫–µ“£—Å–µ–¥–µ —Ç–æ–ª—Ç—ã—Ä—ã–ª–∞–¥—ã)
2Ô∏è‚É£ –¢—É—É —Ç—É—Ä–∞–ª—ã –∫—É”ô–ª—ñ–∫—Ç—ñ“£ –∫”©—à—ñ—Ä–º–µ—Å—ñ
3Ô∏è‚É£ –ê—Ç–∞-–∞–Ω–∞–Ω—ã“£ –∫—É”ô–ª—ñ–≥—ñ–Ω—ñ“£ –∫”©—à—ñ—Ä–º–µ—Å—ñ
4Ô∏è‚É£ –§–æ—Ç–æ 3√ó4 ‚Äî 2 –¥–∞–Ω–∞
5Ô∏è‚É£ –î–µ–Ω—Å–∞—É–ª—ã“õ –ø–∞—Å–ø–æ—Ä—Ç—ã + ‚Ññ063 –Ω—ã—Å–∞–Ω—ã
6Ô∏è‚É£ –®–∞—Ä—Ç –∂”ô–Ω–µ –µ—Ä–µ–∂–µ–ª–µ—Ä (–∫–µ“£—Å–µ–¥–µ “õ–æ–ª “õ–æ–π—ã–ª–∞–¥—ã)

üéØ –≠–∫—Å–∫—É—Ä—Å–∏—è“ì–∞ –∂–∞–∑—ã–ª“ì—ã“£—ã–∑ –∫–µ–ª–µ –º–µ? ¬´–ò”ô¬ª –¥–µ–ø –∂–∞–∑—ã“£—ã–∑`,

    regime_kg: `‚è∞ –ñ“±–º—ã—Å —Ä–µ–∂–∏–º—ñ: 08:00 ‚Äì 18:00 (–¥—Å‚Äì–∂–º)
üìÖ –î–µ–º–∞–ª—ã—Å –∫“Ø–Ω–¥–µ—Ä—ñ: —Å–µ–Ω–±—ñ, –∂–µ–∫—Å–µ–Ω–±—ñ
üïê –¢–æ–ª—ã“õ –µ–º–µ—Å –∫“Ø–Ω ‚Äî –∫–µ–ª—ñ—Å—ñ–º –±–æ–π—ã–Ω—à–∞
‚úÖ –ö“Ø–Ω–¥–µ–ª—ñ–∫—Ç—ñ –±–∞—Ä—É

‚ö†Ô∏è “ö–∞–ª—É–ª–∞—Ä:
‚Ä¢ –ê—É—Ä—É –±–æ–π—ã–Ω—à–∞ (–∞–Ω—ã“õ—Ç–∞–º–∞–º–µ–Ω) ‚Äî —Ç–∞–º–∞“õ –±–æ–π—ã–Ω—à–∞ 50% “õ–∞–π—Ç–∞ –µ—Å–µ–ø—Ç–µ—É
‚Ä¢ –î–µ–º–∞–ª—ã—Å ‚Äî —Ç–µ–∫ –±—ñ—Ä—ñ–Ω—à—ñ –∞–π–¥–∞ 50%, –æ–¥–∞–Ω ”ô—Ä—ñ —Ç–æ–ª—ã“õ —Ç”©–ª–µ–º`,

    food_kg: `üçΩ 5 –º–µ–∑–≥—ñ–ª —Ç–µ“£–¥–µ—Å—Ç—ñ—Ä—ñ–ª–≥–µ–Ω —Ç–∞–º–∞“õ
üë®‚Äçüç≥ ”®–∑ –∞—Å—Ö–∞–Ω–∞–º—ã–∑–¥–∞ ”ô–∑—ñ—Ä–ª–µ–π–º—ñ–∑
ü•ó –ê–ª–ª–µ—Ä–≥–∏—è –º–µ–Ω –∂–µ–∫–µ “õ–∞–∂–µ—Ç—Ç—ñ–ª—ñ–∫—Ç–µ—Ä–¥—ñ –µ—Å–∫–µ—Ä–µ–º—ñ–∑
üìã –ú–∞—É—Å—ã–º–¥—ã“õ –º”ô–∑—ñ—Ä ‚Äî —Å“±—Ä–∞–Ω—ã—Å –±–æ–π—ã–Ω—à–∞ –±–µ—Ä–µ–º—ñ–∑`,

    circles_kg: `üé® –ë–∞—Ä–ª—ã“õ —Å–∞–±–∞“õ—Ç–∞—Ä “õ“±–Ω“ì–∞ –∫—ñ—Ä–µ–¥—ñ:

üìö –ê–ø—Ç–∞—Å—ã–Ω–∞ 20+ –¥–∞–º—ã—Ç—É —Å–∞–±–∞“ì—ã
üèä –ñ“Ø–∑—É
üó£ –ê“ì—ã–ª—à—ã–Ω —Ç—ñ–ª—ñ
üé® –ê—Ä—Ç-—Å—Ç—É–¥–∏—è
üíÉ –°–ø–æ—Ä—Ç—Ç—ã“õ-–±–∞–ª—å–¥—ã“õ –±–∏–ª–µ—Ä
ü•ã –ö–∞—Ä–∞—Ç—ç
ü§∏ –ö”©—Ä–∫–µ–º –≥–∏–º–Ω–∞—Å—Ç–∏–∫–∞
üëÑ –õ–æ–≥–æ–ø–µ–¥
üßÆ –ú–µ–Ω—Ç–∞–ª—å–¥—ñ –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞
‚ôü –®–∞—Ö–º–∞—Ç
üé≠ –ê–∫—Ç–µ—Ä–ª—ñ–∫ —à–µ–±–µ—Ä–ª—ñ–∫
üé§ –í–æ–∫–∞–ª –∂”ô–Ω–µ —Ñ–æ—Ä—Ç–µ–ø–∏–∞–Ω–æ
üß† –ü—Å–∏—Ö–æ–ª–æ–≥, –õ–§–ö –∂”ô–Ω–µ –º–∞—Å—Å–∞–∂

üå≥ ”®–∑ –∞–ª–∞“£—ã–Ω–¥–∞ –∫“Ø–Ω–¥–µ–ª—ñ–∫—Ç—ñ —Å–µ—Ä—É–µ–Ω–¥–µ—Ä
üéâ –ú–µ—Ä–µ–∫–µ–ª–µ—Ä –º–µ–Ω —Ç–∞“£“ì—ã –∫–µ—à—Ç–µ—Ä ”©—Ç–∫—ñ–∑—ñ–ª–µ–¥—ñ`,

    info_school: `üéì ¬´–ê–∫–∞–¥–µ–º–∏—è¬ª –±–∞—Å—Ç–∞—É—ã—à –º–µ–∫—Ç–µ–±—ñ

üìç –ú–µ–∫–µ–Ω–∂–∞–π—ã: –ê—Å—Ç–∞–Ω–∞ “õ., –®—ã“ì–∞–Ω–∞“õ –∫., 7
üìû –¢–µ–ª–µ—Ñ–æ–Ω: +7 701 573 1794, +7 701 511 8396

üìö –°—ã–Ω—ã–ø—Ç–∞—Ä: 1-–¥–µ–Ω 4-–∫–µ –¥–µ–π—ñ–Ω
üìñ –ë–∞“ì–¥–∞—Ä–ª–∞–º–∞: “õ–∞–∑–∞“õ—Å—Ç–∞–Ω–¥—ã“õ
üó£ –û“õ—ã—Ç—É —Ç—ñ–ª–¥–µ—Ä—ñ: “õ–∞–∑–∞“õ –∂”ô–Ω–µ –æ—Ä—ã—Å
üë• –°—ã–Ω—ã–ø—Ç–∞ 15 –±–∞–ª–∞“ì–∞ –¥–µ–π—ñ–Ω
üë®‚Äçüè´ –ê—Ä–Ω–∞–π—ã –±—ñ–ª—ñ–∫—Ç—ñ–ª—ñ–≥—ñ –±–∞—Ä –º“±“ì–∞–ª—ñ–º–¥–µ—Ä
üè• –ú–µ–¥–∫–∞–±–∏–Ω–µ—Ç –ø–µ–Ω –º–µ–¥–±–∏–∫–µ –±–∞—Ä
üö´ –ú–µ–∫—Ç–µ–ø –∫”©–ª—ñ–≥—ñ –∂–æ“õ`,

    cost_school: `üí∞ –ê–π —Å–∞–π—ã–Ω“ì—ã —Ç”©–ª–µ–º: 260 000 —Ç–µ“£–≥–µ
üí≥ –ñ—ã–ª–¥—ã“õ —Ç”©–ª–µ–º: 2 340 000 —Ç–µ–Ω–≥–µ
üíµ –ö—ñ—Ä—É –∂–∞—Ä–Ω–∞—Å—ã: 170 000 —Ç–µ“£–≥–µ (–±—ñ—Ä —Ä–µ—Ç)

üí∏ “ö–æ—Å—ã–º—à–∞ —à—ã“ì—ã–Ω–¥–∞—Ä: –æ“õ—É –º–∞—Ç–µ—Ä–∏–∞–ª–¥–∞—Ä—ã, —Ñ–æ—Ä–º–∞

üéÅ –ñ–µ“£—ñ–ª–¥—ñ–∫—Ç–µ—Ä:
‚Ä¢ –ï–∫—ñ–Ω—à—ñ –±–∞–ª–∞ ‚Äî 5%
‚Ä¢ –ñ—ã–ª–¥—ã“õ —Ç”©–ª–µ–º ‚Äî 5%

‚è∞ 18:00-–≥–µ –¥–µ–π—ñ–Ω “±–∑–∞—Ä—Ç—É ‚Äî 2000 —Ç–µ“£–≥–µ/—Å–∞“ì–∞—Ç
üí≥ –¢”©–ª–µ–º: —Ç–µ–∫ “õ–æ–ª–º–∞-“õ–æ–ª –∞“õ—à–∞—Å—ã–∑
üìû –¢”©–ª–µ–º –±–æ–π—ã–Ω—à–∞: +7 701 577-41-88 (–±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è)`,

    enroll_school: `üìù 6 –∂–∞—Å—Ç–∞–Ω –±–∞—Å—Ç–∞–ø “õ–∞–±—ã–ª–¥–∞–π–º—ã–∑
‚úÖ –ö—ñ—Ä—É —Ç–µ—Å—Ç—ñ–ª–µ—É—ñ –±–∞—Ä
üìÖ 1 —Å”ô—É—ñ—Ä–¥–µ–Ω –∂–∏–Ω–∞—É, –∂—ã–ª —ñ—à—ñ–Ω–¥–µ —Ç“Ø—Å—É–≥–µ –±–æ–ª–∞–¥—ã

üìÑ “ö–∞–∂–µ—Ç—Ç—ñ “õ“±–∂–∞—Ç: –±–∞–ª–∞–Ω—ã“£ –¥–µ–Ω—Å–∞—É–ª—ã“õ –ø–∞—Å–ø–æ—Ä—Ç—ã

üéØ –¢–µ—Å—Ç—ñ–ª–µ—É–≥–µ –∂–∞–∑—ã–ª“ì—ã“£—ã–∑ –∫–µ–ª–µ –º–µ? ¬´–ò”ô¬ª –¥–µ–ø –∂–∞–∑—ã“£—ã–∑`,

    regime_school: `‚è∞ –ñ“±–º—ã—Å —Ä–µ–∂–∏–º—ñ: 08:00 ‚Äì 17:00 (–¥—Å‚Äì–∂–º)
üìÖ –°–µ–Ω–±—ñ ‚Äî –¥–µ–º–∞–ª—ã—Å
üìñ –°–∞–±–∞“õ: 45 –º–∏–Ω—É—Ç, –∫“Ø–Ω—ñ–Ω–µ 6 —Å–∞–±–∞“õ
‚è∞ 18:00-–≥–µ –¥–µ–π—ñ–Ω “±–∑–∞—Ä—Ç—É ‚Äî 2000 —Ç–µ“£–≥–µ/—Å–∞“ì–∞—Ç`,

    food_school: `üçΩ 4 –º–µ–∑–≥—ñ–ª —Ç–µ“£–¥–µ—Å—Ç—ñ—Ä—ñ–ª–≥–µ–Ω —Ç–∞–º–∞“õ
‚úÖ “ö“±–Ω“ì–∞ –∫—ñ—Ä–µ–¥—ñ
ü•ó –ñ–µ–∫–µ –º”ô–∑—ñ—Ä –º“Ø–º–∫—ñ–Ω (–∞–ª–ª–µ—Ä–≥–∏—è, –¥—ñ–Ω–∏ —à–µ–∫—Ç–µ—É–ª–µ—Ä)`,

    circles_school: `üé® “Æ–π—ñ—Ä–º–µ–ª–µ—Ä –º–µ–Ω —Å–µ–∫—Ü–∏—è–ª–∞—Ä:

üé® –ê—Ä—Ç-—Å—Ç—É–¥–∏—è
üíÉ –°–ø–æ—Ä—Ç—Ç—ã“õ-–±–∞–ª—å–¥—ã“õ –±–∏–ª–µ—Ä
ü•ã –ö–∞—Ä–∞—Ç—ç
ü§∏ –ö”©—Ä–∫–µ–º –≥–∏–º–Ω–∞—Å—Ç–∏–∫–∞
üëÑ –õ–æ–≥–æ–ø–µ–¥
üßÆ –ú–µ–Ω—Ç–∞–ª—å–¥—ñ –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞
‚ôü –®–∞—Ö–º–∞—Ç
üé≠ –ê–∫—Ç–µ—Ä–ª—ñ–∫ —à–µ–±–µ—Ä–ª—ñ–∫
üé§ –í–æ–∫–∞–ª
üéπ –§–æ—Ä—Ç–µ–ø–∏–∞–Ω–æ
üß† –ü—Å–∏—Ö–æ–ª–æ–≥
üí™ –õ–§–ö –∂”ô–Ω–µ –º–∞—Å—Å–∞–∂`,

    faq: `‚ùì –ñ–∏—ñ “õ–æ–π—ã–ª–∞—Ç—ã–Ω —Å“±—Ä–∞“õ—Ç–∞—Ä:

‚Ä¢ –ë–∞–ª–∞–±–∞“õ—à–∞“ì–∞ –∂–∞–∑—ã–ª–º–∞–π –±“±—Ä—ã–Ω –±–∞—Ä—É“ì–∞ –±–æ–ª–∞ –º–∞?
  –ò”ô, —ç–∫—Å–∫—É—Ä—Å–∏—è“ì–∞ –∂–∞–∑—ã–ª—ã“£—ã–∑

‚Ä¢ –ñ–µ“£—ñ–ª–¥—ñ–∫—Ç–µ—Ä –±–∞—Ä –º–∞?
  –ò”ô, –µ–∫—ñ–Ω—à—ñ –±–∞–ª–∞“ì–∞ –∂”ô–Ω–µ –∂—ã–ª–¥—ã“õ —Ç”©–ª–µ–º–≥–µ

‚Ä¢ –ñ–∞–∑–¥–∞ –∂“±–º—ã—Å —ñ—Å—Ç–µ–π—Å—ñ–∑ –±–µ?
  –ò”ô, –∂—ã–ª –±–æ–π—ã

‚Ä¢ “ö–∞–ª–∞–π –∂–∞–∑—ã–ª—É“ì–∞ –±–æ–ª–∞–¥—ã?
  "“ö–∞–±—ã–ª–¥–∞—É" –º”ô–∑—ñ—Ä—ñ –∞—Ä“õ—ã–ª—ã`,

    complaintAsk: "üìù –®–∞“ì—ã–º—ã“£—ã–∑–¥—ã —Å–∏–ø–∞—Ç—Ç–∞“£—ã–∑:",
    complaintDone: "‚úÖ –†–∞“õ–º–µ—Ç! –®–∞“ì—ã–º “õ–∞–±—ã–ª–¥–∞–Ω–¥—ã. –ñ–∞“õ—ã–Ω –∞—Ä–∞–¥–∞ —Å—ñ–∑–±–µ–Ω —Ö–∞–±–∞—Ä–ª–∞—Å–∞–º—ã–∑.",
    enrollRequest: "üìù –ë–∞–ª–∞–Ω—ã“£ –∞—Ç—ã–Ω –∂”ô–Ω–µ –±–∞–π–ª–∞–Ω—ã—Å —Ç–µ–ª–µ—Ñ–æ–Ω—ã–Ω –∂–∞–∑—ã“£—ã–∑:",
    thanks: "‚úÖ –†–∞“õ–º–µ—Ç! ”®—Ç—ñ–Ω—ñ—à “õ–∞–±—ã–ª–¥–∞–Ω–¥—ã.\n\nüìã ”®—Ç—ñ–Ω—ñ—à –Ω”©–º—ñ—Ä—ñ: ",
    phoneWarning: "‚ö†Ô∏è –¢–µ–ª–µ—Ñ–æ–Ω –Ω”©–º—ñ—Ä—ñ–Ω –∫”©—Ä—Å–µ—Ç—ñ“£—ñ–∑",
    afterHours: "\n\n‚è∞ “ö–∞–∑—ñ—Ä –∂“±–º—ã—Å —É–∞“õ—ã—Ç—ã –µ–º–µ—Å. –ë—ñ–∑ —Å—ñ–∑–±–µ–Ω –∂“±–º—ã—Å —É–∞“õ—ã—Ç—ã–Ω–¥–∞ (8:00-18:00) —Ö–∞–±–∞—Ä–ª–∞—Å–∞–º—ã–∑."
  }
};

// –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è Green-API
async function sendMessage(chatId, text) {
  const finalChatId = chatId.includes('@') ? chatId : `${chatId}@c.us`; 
  
  const url = `https://api.green-api.com/waInstance${GREEN_INSTANCE}/sendMessage/${GREEN_TOKEN}`;

  try {
    const response = await fetch(url, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        chatId: finalChatId, 
        message: text
      })
    });
    
    const result = await response.json();
    console.log('Message sent:', result);
    return result;
  } catch (error) {
    console.error('Error sending message:', error);
    return null;
  }
}

function sendTelegram(text) {
  if (!TELEGRAM_TOKEN || !ADMIN_TELEGRAM) return;
  fetch(`https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ chat_id: ADMIN_TELEGRAM, text, parse_mode: "HTML" })
  }).catch(() => {});
}

function getMainMenu(lang) {
  return t[lang].items.map((item, i) => `${i + 1}. ${item}`).join('\n') + `\n\n${t[lang].back}`;
}

function isWorkingHours() {
  const hour = new Date().getHours();
  return hour >= 8 && hour < 18;
}

function generateRequestId() {
  return `REQ${Date.now()}`;
}

function validatePhone(text) {
  return /\+?\d{10,}/.test(text);
}

export default async function handler(req, res) {
  if (req.method !== "POST") return res.status(405).end();

  const body = req.body;
  
  // –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö –æ—Ç Green API
  console.log('Received webhook:', JSON.stringify(body, null, 2));
  
  const typeWebhook = body?.typeWebhook;
  
  // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
  if (typeWebhook !== 'incomingMessageReceived') {
    return res.status(200).json({ ok: true });
  }

  // –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è Green-API
  const senderData = body?.senderData;
  const messageData = body?.messageData;
  const sender = senderData?.chatId; // –ë–µ—Ä—ë–º –∏–∑ senderData, –∞ –Ω–µ messageData!
  const text = (messageData?.textMessageData?.textMessage || "").trim();
  
  console.log('Sender:', sender);
  console.log('Text:', text);
  ```
  
  –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ `chatId` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `senderData`, –∞ –Ω–µ –≤ `messageData`! 
  
  –í–æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏—Ö–æ–¥–∏—Ç:
  ```
  senderData: {
    chatId: "77476951662@c.us"  ‚Üê –í–û–¢ –û–ù–û!
  }
  messageData: {
    textMessageData: {
      textMessage: "–ü—Ä–∏–≤–µ—Ç"
    }
  }
  const lower = text.toLowerCase();

  let state = users.get(sender) || { 
    lang: "ru", 
    step: "start", 
    org: null, 
    prevStep: null,
    lastActivity: Date.now(),
    isFirstVisit: true
  };

  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–π–º–∞—É—Ç–∞ —Å–µ—Å—Å–∏–∏
  if (Date.now() - state.lastActivity > SESSION_TIMEOUT) {
    state = { 
      lang: state.lang, 
      step: "start", 
      org: null, 
      prevStep: null,
      lastActivity: Date.now(),
      isFirstVisit: false
    };
  }

  state.lastActivity = Date.now();

  let msg = "";

  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã /start –∏–ª–∏ "–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ"
  if (text === "/start" || lower === "–Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ" || lower === "“õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞—É" || lower === "üîÑ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ" || lower === "üîÑ “õ–∞–π—Ç–∞ –±–∞—Å—Ç–∞—É") {
    state = { 
      lang: state.lang, 
      step: "choose_org", 
      org: null, 
      prevStep: null,
      lastActivity: Date.now(),
      isFirstVisit: false
    };
    msg = `${t[state.lang].start}\n\n–í—ã–±–µ—Ä–∏—Ç–µ:\n1. ${t[state.lang].kg}\n2. ${t[state.lang].school}`;
  }
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Å–≤—è–∑—å —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º
  else if (lower.includes("–æ–ø–µ—Ä–∞—Ç–æ—Ä") || lower.includes("—á–µ–ª–æ–≤–µ–∫") || lower.includes("–∞–¥–∞–º") || lower.includes("“õ—ã–∑–º–µ—Ç–∫–µ—Ä")) {
    msg = t[state.lang].operator;
    msg += `\n\n${getMainMenu(state.lang)}`;
  }
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥"
  else if (lower === "–Ω–∞–∑–∞–¥" || lower === "–∞—Ä—Ç“õ–∞" || lower === "‚óÄÔ∏è –Ω–∞–∑–∞–¥" || lower === "‚óÄÔ∏è –∞—Ä—Ç“õ–∞" || text === "0") {
    if (state.prevStep) {
      state.step = state.prevStep;
      state.prevStep = null;
    } else {
      state.step = "menu";
    }
    
    if (state.step === "menu") {
      msg = `${t[state.lang][state.org === "kg" ? "kg" : "school"]}\n\n${t[state.lang].menu}\n\n${getMainMenu(state.lang)}`;
    } else if (state.step === "choose_org") {
      msg = `${t[state.lang].start}\n\n–í—ã–±–µ—Ä–∏—Ç–µ:\n1. ${t[state.lang].kg}\n2. ${t[state.lang].school}`;
    } else if (state.step === "lang") {
      msg = `${t.ru.start}\n\n${t.ru.lang}\n1. –†—É—Å—Å–∫–∏–π\n2. “ö–∞–∑–∞“õ—à–∞`;
    }
  }
  // –ü–µ—Ä–≤–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
  else if (state.step === "start") {
    if (state.isFirstVisit) {
      const name = messageData.senderName || "–£–≤–∞–∂–∞–µ–º—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å";
      msg = `üëã –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, ${name}!\n\n${t.ru.start}\n\n${t.ru.lang}\n1. –†—É—Å—Å–∫–∏–π\n2. “ö–∞–∑–∞“õ—à–∞`;
      state.isFirstVisit = false;
    } else {
      msg = `${t.ru.start}\n\n${t.ru.lang}\n1. –†—É—Å—Å–∫–∏–π\n2. “ö–∞–∑–∞“õ—à–∞`;
    }
    state.step = "lang";
  }
  else if (state.step === "lang") {
    state.lang = (lower.includes("“õ–∞–∑–∞“õ") || lower === "“õ–∞–∑–∞“õ—à–∞" || text === "2") ? "kz" : "ru";
    msg = `${t[state.lang].start}\n\n–í—ã–±–µ—Ä–∏—Ç–µ:\n1. ${t[state.lang].kg}\n2. ${t[state.lang].school}`;
    state.step = "choose_org";
    state.prevStep = "lang";
  }
  else if (state.step === "choose_org") {
    state.org = (lower.includes("–±–∞–ª–∞–±–∞“õ—à–∞") || lower.includes("—Å–∞–¥") || lower.includes("üè´") || text === "1") ? "kg" : "school";
    msg = `${t[state.lang][state.org === "kg" ? "kg" : "school"]}\n\n${t[state.lang].menu}\n\n${getMainMenu(state.lang)}`;
    state.step = "menu";
    state.prevStep = "choose_org";
  }
  else if (state.step === "menu") {
    const l = state.lang;
    const isKg = state.org === "kg";

    if (lower.includes("–∂–∞–ª–æ–±") || lower.includes("—à–∞“ì—ã–º") || lower.includes("—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ") || lower.includes("–±–∞—Å—à—ã–ª—ã“õ") || text === "7" || lower.includes("üìû")) {
      msg = t[l].complaintAsk;
      msg += `\n\n0. ${t[l].back}`;
      state.prevStep = "menu";
      state.step = "complaint";
    }
    else if (text === "1" || lower.includes("–æ–±—â–∞—è") || lower.includes("–∂–∞–ª–ø—ã") || lower.includes("üìã")) { 
      msg = isKg ? t[l].info_kg : t[l].info_school;
      msg += `\n\n${getMainMenu(l)}`;
    }
    else if (text === "2" || lower.includes("—Å—Ç–æ–∏–º–æ—Å—Ç—å") || lower.includes("–±–∞“ì–∞—Å") || lower.includes("–æ–ø–ª–∞—Ç") || lower.includes("—Ç”©–ª–µ–º") || lower.includes("üí∞")) { 
      msg = isKg ? t[l].cost_kg : t[l].cost_school;
      msg += `\n\n${getMainMenu(l)}`;
    }
    else if (text === "3" || lower.includes("–ø–æ—Å—Ç—É–ø–ª–µ–Ω") || lower.includes("“õ–∞–±—ã–ª–¥–∞—É") || lower.includes("üìù")) { 
      msg = isKg ? t[l].enroll_kg : t[l].enroll_school;
      msg += `\n\n–î–∞ / –ò”ô\n0. ${t[l].back}`;
      state.prevStep = "menu";
      state.step = "enroll"; 
    }
    else if (text === "4" || lower.includes("—Ä–µ–∂–∏–º") || lower.includes("—Ç”ô—Ä—Ç—ñ–±") || lower.includes("‚è∞")) { 
      msg = isKg ? t[l].regime_kg : t[l].regime_school;
      msg += `\n\n${getMainMenu(l)}`;
    }
    else if (text === "5" || lower.includes("–ø–∏—Ç–∞–Ω") || lower.includes("—Ç–∞–º–∞“õ") || lower.includes("üçΩ")) { 
      msg = isKg ? t[l].food_kg : t[l].food_school;
      msg += `\n\n${getMainMenu(l)}`;
    }
    else if (text === "6" || lower.includes("–∫—Ä—É–∂–∫") || lower.includes("“Ø–π—ñ—Ä–º–µ") || lower.includes("–ø–µ—Ä—Å–æ–Ω–∞–ª") || lower.includes("“õ—ã–∑–º–µ—Ç–∫–µ—Ä") || lower.includes("üé®")) { 
      msg = isKg ? t[l].circles_kg : t[l].circles_school;
      msg += `\n\n${getMainMenu(l)}`;
    }
    else if (lower.includes("faq") || lower.includes("—á–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã") || lower.includes("—á–∞—Å—Ç–æ") || lower.includes("–∂–∏—ñ") || lower === "‚ùì") {
      msg = t[l].faq;
      msg += `\n\n${getMainMenu(l)}`;
    }
    else { 
      msg = t[l].notUnderstood;
      msg += `\n\n${getMainMenu(l)}`;
    }
  }
  else if (state.step === "complaint") {
    const orgName = state.org === "kg" ? (state.lang === "ru" ? "–î–µ—Ç—Å–∫–∏–π —Å–∞–¥" : "–ë–∞–ª–∞–±–∞“õ—à–∞") : (state.lang === "ru" ? "–ù–∞—á–∞–ª—å–Ω–∞—è —à–∫–æ–ª–∞" : "–ë–∞—Å—Ç–∞—É—ã—à –º–µ–∫—Ç–µ–ø");
    const now = new Date();
    
    sendTelegram(`üö® <b>–ñ–ê–õ–û–ë–ê</b>
üìä <b>–î–∞—Ç–∞:</b> ${now.toLocaleDateString('ru-RU')}
‚è∞ <b>–í—Ä–µ–º—è:</b> ${now.toLocaleTimeString('ru-RU')}
üë§ <b>–û—Ç:</b> ${sender}
üè´ <b>–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è:</b> ${orgName}
üó£ <b>–Ø–∑—ã–∫:</b> ${state.lang === 'ru' ? 'üá∑üá∫ –†—É—Å—Å–∫–∏–π' : 'üá∞üáø “ö–∞–∑–∞“õ—à–∞'}

<b>–¢–µ–∫—Å—Ç –∂–∞–ª–æ–±—ã:</b>
${text}`);
    
    msg = t[state.lang].complaintDone;
    msg += `\n\n${getMainMenu(state.lang)}`;
    state.step = "menu";
    state.prevStep = null;
  }
  else if (state.step === "enroll") {
    if (lower.includes("–¥–∞") || lower.includes("–∏”ô") || lower === "yes") {
      msg = t[state.lang].enrollRequest;
      msg += `\n\n0. ${t[state.lang].back}`;
      state.prevStep = "enroll";
      state.step = "waiting_contact";
    } else {
      msg = state.lang === "ru" ? "–•–æ—Ä–æ—à–æ üòä" : "–ñ–∞“õ—Å—ã üòä";
      msg += `\n\n${getMainMenu(state.lang)}`;
      state.step = "menu";
      state.prevStep = null;
    }
  }
  else if (state.step === "waiting_contact") {
    const hasPhone = validatePhone(text);
    
    if (!hasPhone) {
      msg = t[state.lang].phoneWarning;
      msg += `\n\n0. ${t[state.lang].back}`;
    } else {
      const orgName = state.org === "kg" ? (state.lang === "ru" ? "–î–µ—Ç—Å–∫–∏–π —Å–∞–¥" : "–ë–∞–ª–∞–±–∞“õ—à–∞") : (state.lang === "ru" ? "–ù–∞—á–∞–ª—å–Ω–∞—è —à–∫–æ–ª–∞" : "–ë–∞—Å—Ç–∞—É—ã—à –º–µ–∫—Ç–µ–ø");
      const enrollType = state.org === "kg" ? (state.lang === "ru" ? "—ç–∫—Å–∫—É—Ä—Å–∏—é" : "—ç–∫—Å–∫—É—Ä—Å–∏—è“ì–∞") : (state.lang === "ru" ? "—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ" : "—Ç–µ—Å—Ç—ñ–ª–µ—É–≥–µ");
      const requestId = generateRequestId();
      const now = new Date();
      
      sendTelegram(`üìù <b>–ù–û–í–ê–Ø –ó–ê–Ø–í–ö–ê</b>
üìä <b>–î–∞—Ç–∞:</b> ${now.toLocaleDateString('ru-RU')}
‚è∞ <b>–í—Ä–µ–º—è:</b> ${now.toLocaleTimeString('ru-RU')}
üë§ <b>–û—Ç:</b> ${sender}
üè´ <b>–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è:</b> ${orgName}
üìã <b>–¢–∏–ø:</b> –ó–∞–ø–∏—Å—å –Ω–∞ ${enrollType}
üó£ <b>–Ø–∑—ã–∫:</b> ${state.lang === 'ru' ? 'üá∑üá∫ –†—É—Å—Å–∫–∏–π' : 'üá∞üáø “ö–∞–∑–∞“õ—à–∞'}
üÜî <b>–ù–æ–º–µ—Ä –∑–∞—è–≤–∫–∏:</b> ${requestId}

<b>–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:</b>
${text}`);
      
      msg = t[state.lang].thanks + requestId;
      
      if (!isWorkingHours()) {
        msg += t[state.lang].afterHours;
      }
      
      msg += `\n\n${getMainMenu(state.lang)}`;
      state.step = "menu";
      state.prevStep = null;
    }
  }
  else {
    msg = t[state.lang].notUnderstood;
    msg += `\n\n${getMainMenu(state.lang)}`;
    state.step = "menu";
  }

  users.set(sender, state);
  if (msg && sender) {
    console.log('Sending message to:', sender);
    await sendMessage(sender, msg);
  }
  res.status(200).json({ ok: true });
}
